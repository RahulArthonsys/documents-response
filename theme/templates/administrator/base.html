{% load static %}
{% include "administrator/header.html" %}
{% block static%}
{% endblock %}
<body class="hold-transition sidebar-mini layout-fixed page-loading">

    <!-- Page-load progress bar -->
    <div id="nprogress-bar"></div>

<div class="wrapper">
        <!-- Preloader -->
<!--      <div class="preloader flex-column justify-content-center align-items-center">-->
<!--        <img class="animation__shake" src="dist/img/AdminLTELogo.png" alt="AdminLTELogo" height="60" width="60">-->
<!--      </div>-->
        <!-- Top Bar Start -->
        {% include "administrator/topbar.html" %}
        <!-- Top Bar End -->

        <!-- ========== Left Sidebar Start ========== -->
        {% include "administrator/sidebar.html" %}
        <!-- Left Sidebar End -->

        <!-- Start right Content here -->
      <div class="content-wrapper">
          {% block body %}

          {% endblock %}

      </div>

        <!-- End Right content here -->
        <footer class="main-footer">
    <strong>Copyright &copy; 2023-2024 <a href="">{{configs.APP_NAME}}</a>.</strong> All rights reserved.
    All rights reserved.
    <div class="float-right d-none d-sm-inline-block">
      <b>Version</b> 0.0.1
    </div>
  </footer>


    </div>
    <!-- END wrapper -->


{% include "administrator/footer.html" %}
    <script>
        // ── Dark/Light Theme Toggle (default = dark) ──
        function toggleDarkMode() {
            var html = document.documentElement;
            var body = document.body;
            var isDark = body.classList.contains('dark-mode');

            if (isDark) {
                html.classList.remove('dark-mode');
                body.classList.remove('dark-mode');
                localStorage.setItem('theme', 'light');
                document.querySelector('meta[name="theme-color"]').content = '#f8fafc';
            } else {
                html.classList.add('dark-mode');
                body.classList.add('dark-mode');
                localStorage.setItem('theme', 'dark');
                document.querySelector('meta[name="theme-color"]').content = '#0f172a';
            }
        }
        // Apply saved theme — dark is the default for new users
        (function() {
            var saved = localStorage.getItem('theme');
            if (saved !== 'light') {
                document.body.classList.add('dark-mode');
                document.documentElement.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
                document.documentElement.classList.remove('dark-mode');
            }
            // Sync meta theme-color
            var meta = document.querySelector('meta[name="theme-color"]');
            if (meta) meta.content = (saved !== 'light') ? '#0f172a' : '#f8fafc';
        })();

        // Remove page-loading class and progress bar after load
        window.addEventListener('load', function() {
            document.body.classList.remove('page-loading');
            var bar = document.getElementById('nprogress-bar');
            if (bar) { bar.style.opacity = '0'; setTimeout(function(){ bar.remove(); }, 400); }
        });
        // Animate stat counter numbers
        document.querySelectorAll('.small-box .inner h3').forEach(function(el) {
            var target = parseFloat(el.innerText.replace(/[^0-9.]/g, '')) || 0;
            var suffix = el.innerText.replace(/[0-9.]/g, '');
            var start = 0; var duration = 900; var step = 16;
            var increment = target / (duration / step);
            var current = start;
            var isFloat = el.innerText.includes('.');
            var timer = setInterval(function() {
                current += increment;
                if (current >= target) { current = target; clearInterval(timer); }
                el.innerText = (isFloat ? current.toFixed(1) : Math.floor(current)) + suffix;
            }, step);
        });
        {% block script%}
        {% endblock %}
    </script>


</body>

</html>
